{"version":3,"sources":["api/unsplash.js","components/SearchBar.js","actions/index.js","components/ImageCard.js","components/ImageList.js","components/App.js","reducers/paramsReducer.js","reducers/index.js","reducers/imageReducer.js","index.js"],"names":["axios","create","baseURL","headers","Authorization","SearchBar","state","term","onFormSumbit","event","preventDefault","props","newQuery","newImages","className","onSubmit","this","type","onChange","e","setState","target","value","React","Component","connect","dispatch","a","payload","getState","unsplash","get","params","response","data","results","ImageCard","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","createRef","addEventListener","load_next","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","addPage","addImages","console","log","unobserve","observe","image","description","urls","style","gridRowEnd","ref","alt","src","regular","ImageList","i","images","map","length","id","App","marginTop","initial","query","page","per_page","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69fa1dfc.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create ({\r\n    baseURL: 'https://api.unsplash.com',\r\n    headers: {\r\n        Authorization: 'Client-ID 01-YFKIzacYELDHBB_RcJaBf7eNNYhnjJMmqzopX6EA'\r\n    }\r\n});","import './SearchBar.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { newQuery, newImages } from '../actions'; \r\n\r\nclass SearchBar extends React.Component {\r\n    state = { term: '' };\r\n    \r\n    onFormSumbit = event => {\r\n        event.preventDefault();\r\n        this.props.newQuery(this.state.term);\r\n        this.props.newImages();\r\n    }\r\n\r\n    render() {\r\n        const iconClass = 'pd';\r\n        const inputClass = 'input-field';\r\n        const containerClass = 'field container';\r\n        const outerContainerClass = 'outer-container';\r\n        return (\r\n            <div className={outerContainerClass}>\r\n                <form onSubmit={this.onFormSumbit} className=''>\r\n                    <div className={containerClass}>\r\n                        <label className={ iconClass }>\r\n                            <i className=\"fas fa-search\"></i>\r\n                        </label>\r\n                        <input \r\n                            className={ inputClass }\r\n                            type='text'\r\n                            onChange={(e) => this.setState({ term: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    { newQuery, newImages }\r\n)(SearchBar);","import unsplash from '../api/unsplash';\r\n\r\nexport const newImages = () => async (dispatch, getState) => {\r\n    const response = await unsplash.get('/search/photos', {\r\n        params: getState().params\r\n    }); \r\n    dispatch ({\r\n        type: 'NEW_IMAGES',\r\n        payload: response.data.results \r\n    });\r\n}\r\n\r\nexport const addImages = () => async (dispatch, getState) => {\r\n    const response = await unsplash.get('/search/photos', {\r\n        params: getState().params\r\n    }); \r\n    dispatch ({\r\n        type: 'ADD_IMAGES',\r\n        payload: response.data.results \r\n    });\r\n}\r\n\r\nexport const newQuery = (term) => async dispatch => {\r\n    dispatch ({\r\n        type: 'NEW_QUERY',\r\n        payload: term\r\n    });\r\n}\r\n\r\nexport const addPage = () => async dispatch => {\r\n    dispatch ({\r\n        type: 'ADD_PAGE'\r\n    });\r\n}","import React from 'react';\r\nimport { addPage, addImages } from '../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass ImageCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { spans: 0 };\r\n        this.imageRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.imageRef.current.addEventListener('load', this.setSpans);\r\n        this.imageRef.current.addEventListener('load', () => {\r\n            if (this.props.load_next === true) {\r\n                const observer = new IntersectionObserver((entries) => {\r\n                    entries.forEach((entry) => {\r\n                        if (entry.isIntersecting) {\r\n                            this.props.addPage();\r\n                            this.props.addImages();\r\n                            console.log('LOADED ANOTHER PAGE');\r\n                            observer.unobserve(this.imageRef.current);\r\n                        }\r\n                    });\r\n                }, {});\r\n                observer.observe(this.imageRef.current);\r\n            }\r\n        });\r\n    }\r\n\r\n    setSpans = () => {\r\n        const height = this.imageRef.current.clientHeight;\r\n        const spans = Math.ceil(height / 30);\r\n        this.setState({ spans });\r\n    }\r\n\r\n    render() {\r\n        const { description, urls } = this.props.image;\r\n        return (\r\n            <div style={{ gridRowEnd: `span ${this.state.spans}` }}>\r\n                <img\r\n                    ref={this.imageRef}\r\n                    alt={description}\r\n                    src={urls.regular}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    { addPage, addImages }\r\n)(ImageCard);","import './ImageList.css';\r\nimport React from 'react';\r\nimport ImageCard from './ImageCard';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nclass ImageList extends React.Component {\r\n    render () {\r\n        let i = 0;\r\n        let load_next = false;\r\n        const images = this.props.images.map((image) => {\r\n            i++;\r\n            if (i === this.props.images.length) load_next = true;\r\n            return <ImageCard key={image.id} image={image} load_next={load_next} />\r\n        });\r\n        return <div className='image-list'>{images}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { images: state.images };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(ImageList);","import React from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport ImageList from './ImageList';\r\n\r\nclass App extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className='ui container' style={{ marginTop: '10px' }}>\r\n                <SearchBar/>\r\n                <ImageList />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","const initial = {\r\n    query: '',\r\n    page: 1,\r\n    per_page: 30\r\n}\r\n\r\nexport default (state = initial, action) => {\r\n    switch (action.type) {\r\n        case 'NEW_QUERY':\r\n            return { ...initial, query: action.payload };\r\n        case 'ADD_PAGE':\r\n            return { ...state, page: state.page + 1 };\r\n        default:\r\n            return state;\r\n    }\r\n};","import { combineReducers } from 'redux';\r\nimport imageReducer from './imageReducer';\r\nimport paramsReducer from './paramsReducer';\r\n\r\nexport default combineReducers({\r\n    images: imageReducer,\r\n    params: paramsReducer\r\n});","export default (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'NEW_IMAGES':\r\n            return action.payload;\r\n        case 'ADD_IMAGES':\r\n            return [...state, ...action.payload];\r\n        default:\r\n            return state;\r\n    }\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n \r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}